{"remainingRequest":"/Users/zouxinyu/unicorn-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zouxinyu/unicorn-ui/src/components/Page/Page.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zouxinyu/unicorn-ui/src/components/Page/Page.vue","mtime":1564815145364},{"path":"/Users/zouxinyu/unicorn-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zouxinyu/unicorn-ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zouxinyu/unicorn-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zouxinyu/unicorn-ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport PageItem from './PageItem'\nimport './css/boom.css'\n\nexport default {\n  /**\n   * 接收2个参数\n   * @param {String} pages 为总条数 默认值1\n   * @param {String} pageSize 为每一页的条数 默认值10\n   */\n  props: {\n    pages: {\n      type: String,\n      default: '1'\n    },\n    pageSize: {\n      type: String,\n      default: '10'\n    }\n  },\n  data () {\n    return {\n      // 多页隐藏\n      showAll: true,\n      // 点击页面\n      clickNum: 0,\n      // 页面数组\n      pageList: [],\n      // 控制前两个页面的显示\n      showListPage: 0,\n      // 变换显示方式\n      last: false,\n      // 控制翻页按钮特效显现\n      showBoomL: false,\n      showBoomR: false,\n      // 控制按钮禁用\n      useL: false,\n      useR: true\n    }\n  },\n  computed: {\n    // 计算出页数\n    relPages () {\n      return Math.ceil(+this.pages / +this.pageSize)\n    }\n  },\n  mounted () {\n    if(this.relPages > 5) {\n      this.showAll = false\n      for (let i = 0; i < this.relPages; i++) {\n        this.pageList.push({\n          index: i,\n          pageNumber: i + 1\n        })\n      }\n    }\n  },\n  methods: {\n    // 更改选中状态，并且在组件外使用 on-change 事件可以获得当前被点击页数\n    getPage (pageNumber) {\n      this.$emit('on-change', pageNumber)\n      this.clickNum =  --pageNumber\n\n      let soui = this.clickNum - this.showListPage\n\n      if(soui === 1) {\n        this.showListPage = this.clickNum\n      }\n\n      if (pageNumber === 0) {\n        this.last = false\n        this.useL = false\n        this.useR = true\n      }\n\n      if (pageNumber === this.relPages - 1) {\n        this.useR = false\n        this.useL = true\n      } \n\n      if (pageNumber !== 0 && pageNumber !== this.relPages - 1) {\n        this.useR = true\n        this.useL = true\n      }\n\n      if (pageNumber >= this.relPages - 3) {\n        this.showListPage = 0\n        this.last = true\n      }\n    },\n    // 按钮控制前进后退\n    go (flag) {\n      if (flag === 'go') {\n        this.useR = true\n        this.useL = true\n        this.showBoomR = true\n        setTimeout(() => {\n          this.showBoomR = false\n        }, 300)\n        if (this.clickNum !== this.relPages - 1) {\n          this.clickNum++\n        }\n\n        if (this.clickNum === this.relPages - 1) {\n          this.useR = false\n        }\n      } else {\n        this.useL = true\n        this.useR = true\n        this.showBoomL = true\n        setTimeout(() => {\n          this.showBoomL = false\n        }, 300)\n        if (this.clickNum !== 0) {\n          this.clickNum--\n        }\n\n        if (this.clickNum === 0) {\n          this.useL = false\n        }\n      }\n  \n      if (this.clickNum >= this.relPages - 3) {\n        this.showListPage = 0\n        this.last = true\n      } else {\n        if (this.clickNum <= this.relPages - 3) {\n          this.showListPage = this.clickNum\n          this.last = false\n        }\n      }\n    }\n  },\n  components: {\n    PageItem\n  }\n}\n",{"version":3,"sources":["Page.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Page.vue","sourceRoot":"src/components/Page","sourcesContent":["<template>\n<!-- Page分页组件 -->\n  <div class=\"page-sec\" v-if=\"showAll\">\n    <div v-for=\"(number, index) in relPages\" :key=\"index\">\n      <Page-item :pageNumber='number' :index='index'\n      :clickNum=\"clickNum\" @clicked=\"getPage\"></Page-item>\n    </div>\n  </div>\n\n  <div class=\"page-sec\" v-else>\n    <div @click=\"go('back')\" class=\"margin-r img-box\" :class=\"{'cont-use': !useL}\">\n      <div class=\"boom-box\" :class=\"{'boom': showBoomL}\"></div>\n      <img src=\"./img/back.svg\" alt=\"\">\n    </div>\n\n    <div>\n      <Page-item :index='pageList[showListPage].index' \n      :pageNumber='pageList[showListPage].pageNumber'\n      @clicked=\"getPage\" :clickNum=\"clickNum\"></Page-item>\n    </div>\n\n    <!-- 没有到最后 -->\n    <div v-if=\"!last\">\n      <Page-item :index='pageList[showListPage + 1].index' \n      :pageNumber='pageList[showListPage + 1].pageNumber'\n      @clicked=\"getPage\" :clickNum=\"clickNum\"></Page-item>\n    </div>\n\n    <div v-if=\"!last\">\n      <Page-item show=\"...\"></Page-item>\n    </div>\n\n    <!-- 到最后 -->\n    <div v-if=\"last\">\n      <Page-item show=\"...\"></Page-item>\n    </div>\n    \n    <div v-if=\"last\">\n      <Page-item :index='pageList[relPages - 3].index' \n      :pageNumber='pageList[relPages - 3].pageNumber'\n      @clicked=\"getPage\" :clickNum=\"clickNum\"></Page-item>\n    </div>\n\n    <div>\n      <Page-item :index='pageList[relPages - 2].index' \n      :pageNumber='pageList[relPages - 2].pageNumber'\n      @clicked=\"getPage\" :clickNum=\"clickNum\"></Page-item>\n    </div>\n\n    <div>\n      <Page-item :index='pageList[relPages - 1].index' \n      :pageNumber='pageList[relPages - 1].pageNumber'\n      @clicked=\"getPage\" :clickNum=\"clickNum\"></Page-item>\n    </div>\n\n    <div @click=\"go('go')\" class=\"img-box\" :class=\"{'cont-use': !useR}\">\n      <div class=\"boom-box\" :class=\"{'boom': showBoomR}\"></div>\n      <img src=\"./img/go.svg\" alt=\"\">\n    </div>\n  </div>\n</template>\n\n<script>\nimport PageItem from './PageItem'\nimport './css/boom.css'\n\nexport default {\n  /**\n   * 接收2个参数\n   * @param {String} pages 为总条数 默认值1\n   * @param {String} pageSize 为每一页的条数 默认值10\n   */\n  props: {\n    pages: {\n      type: String,\n      default: '1'\n    },\n    pageSize: {\n      type: String,\n      default: '10'\n    }\n  },\n  data () {\n    return {\n      // 多页隐藏\n      showAll: true,\n      // 点击页面\n      clickNum: 0,\n      // 页面数组\n      pageList: [],\n      // 控制前两个页面的显示\n      showListPage: 0,\n      // 变换显示方式\n      last: false,\n      // 控制翻页按钮特效显现\n      showBoomL: false,\n      showBoomR: false,\n      // 控制按钮禁用\n      useL: false,\n      useR: true\n    }\n  },\n  computed: {\n    // 计算出页数\n    relPages () {\n      return Math.ceil(+this.pages / +this.pageSize)\n    }\n  },\n  mounted () {\n    if(this.relPages > 5) {\n      this.showAll = false\n      for (let i = 0; i < this.relPages; i++) {\n        this.pageList.push({\n          index: i,\n          pageNumber: i + 1\n        })\n      }\n    }\n  },\n  methods: {\n    // 更改选中状态，并且在组件外使用 on-change 事件可以获得当前被点击页数\n    getPage (pageNumber) {\n      this.$emit('on-change', pageNumber)\n      this.clickNum =  --pageNumber\n\n      let soui = this.clickNum - this.showListPage\n\n      if(soui === 1) {\n        this.showListPage = this.clickNum\n      }\n\n      if (pageNumber === 0) {\n        this.last = false\n        this.useL = false\n        this.useR = true\n      }\n\n      if (pageNumber === this.relPages - 1) {\n        this.useR = false\n        this.useL = true\n      } \n\n      if (pageNumber !== 0 && pageNumber !== this.relPages - 1) {\n        this.useR = true\n        this.useL = true\n      }\n\n      if (pageNumber >= this.relPages - 3) {\n        this.showListPage = 0\n        this.last = true\n      }\n    },\n    // 按钮控制前进后退\n    go (flag) {\n      if (flag === 'go') {\n        this.useR = true\n        this.useL = true\n        this.showBoomR = true\n        setTimeout(() => {\n          this.showBoomR = false\n        }, 300)\n        if (this.clickNum !== this.relPages - 1) {\n          this.clickNum++\n        }\n\n        if (this.clickNum === this.relPages - 1) {\n          this.useR = false\n        }\n      } else {\n        this.useL = true\n        this.useR = true\n        this.showBoomL = true\n        setTimeout(() => {\n          this.showBoomL = false\n        }, 300)\n        if (this.clickNum !== 0) {\n          this.clickNum--\n        }\n\n        if (this.clickNum === 0) {\n          this.useL = false\n        }\n      }\n  \n      if (this.clickNum >= this.relPages - 3) {\n        this.showListPage = 0\n        this.last = true\n      } else {\n        if (this.clickNum <= this.relPages - 3) {\n          this.showListPage = this.clickNum\n          this.last = false\n        }\n      }\n    }\n  },\n  components: {\n    PageItem\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.page-sec {\n  display: flex;\n  align-items: center;\n\n  & :last-child div{\n    margin-right: 0;\n  }\n\n  .img-box {\n    display: flex;\n    align-items: center;\n    position: relative;\n    height: 26px;\n    width: 16px;\n    cursor: pointer;\n\n    .boom-box {\n      position: absolute;\n      left: 30%;\n    }\n\n    & img {\n      width: 100%;\n    }\n\n  }\n\n  .cont-use {\n    filter: grayscale(100%);\n    cursor: not-allowed;\n  }\n\n  .margin-r {\n    margin-right: 10px;\n  }\n\n  .margin-l {\n    margin-left: 10px;\n  }\n}\n</style>\n"]}]}