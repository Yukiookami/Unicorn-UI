{"remainingRequest":"/Users/zouxinyu/unicorn-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zouxinyu/unicorn-ui/src/components/Calendar/Calendar.vue?vue&type=style&index=0&id=dee108e2&lang=scss&scoped=true&","dependencies":[{"path":"/Users/zouxinyu/unicorn-ui/src/components/Calendar/Calendar.vue","mtime":1565763256714},{"path":"/Users/zouxinyu/unicorn-ui/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/zouxinyu/unicorn-ui/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/zouxinyu/unicorn-ui/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/zouxinyu/unicorn-ui/node_modules/sass-loader/lib/loader.js","mtime":1533139052000},{"path":"/Users/zouxinyu/unicorn-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zouxinyu/unicorn-ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.unicorn-calendar-main {\n  background-color: #efefef;\n  border-radius: 6px;\n  width: 320px;\n\n  .unicorn-calendar-sec {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    height: 48px;\n    padding: 0 15px;\n    background-color: #FFF;\n    border-radius: 6px;\n    box-shadow: 0 0 5px rgba(0, 0, 0, .2);\n    font-size: 14px;\n\n    & img {\n      cursor: pointer;\n    }\n  }\n\n  .unicorn-calendar-choose-sec {\n    margin-top: 10px;\n    padding: 0 15px;\n    height: 286px;\n    border-radius: 6px;\n    background-color: #FFF;\n\n    .unicorn-calendar-choose-month {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      height: 50px;\n\n      & img {\n        cursor: pointer;\n      }\n    }\n\n    .unicorn-calendar-choose-day-sec {\n\n      .unicorn-calendar-choose-dayName {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        font-size: 12px;\n        color: #cac2d0;\n\n        & span {\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          width: 29px;\n        }\n      }\n\n      .unicorn-line {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        margin-top: 5px;\n\n        .unicorn-line-item {\n          height: 1px;\n          border-radius: 6px;\n          width: 6px;\n          background-color: #e9e8ea;\n        }\n      }\n\n      .unicorn-day-sec {\n        .unicorn-dayLine {\n          display: flex;\n          justify-content: space-between;\n          margin: 5px 0;\n\n          & :last-child {\n            color: #ff9740 !important;\n          }\n\n          .unicorn-day {\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 29px; \n            width: 29px;\n            font-size: 12px;\n            border-radius: 50%;\n            cursor: pointer;\n\n            &:hover {\n              background-color: #ebdaf0;\n              color: #b649f0 !important;\n            }\n          }\n\n          .unicorn-day-notnow {\n            opacity: .2;\n            cursor: not-allowed;\n\n            &:hover {\n              background-color: rgba(0, 0, 0, 0);\n              color: #000 !important;\n            }\n          }\n\n          .unicorn-nowDate {\n            background-color: #a376b5;\n            color: #FFF !important;\n          }\n        }\n\n      }\n    }\n  }\n}\n",{"version":3,"sources":["Calendar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmTA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Calendar.vue","sourceRoot":"src/components/Calendar","sourcesContent":["<template>\n  <div class=\"unicorn-calendar-main\">\n    <div class=\"unicorn-calendar-sec\">\n      <div>\n        <span>{{day}}</span>/<span>{{month}}</span>/<span>{{year}}</span>\n      </div>\n\n      <img v-if=\"!show\" @click=\"getDateMoble(), showDay()\" src=\"./img/calendar.svg\" alt=\"\">\n      <img v-else @click=\"getDateMoble(), showDay()\" src=\"./img/calendar-sel.svg\" alt=\"\">\n    </div>\n\n    <div v-show=\"show\" class=\"unicorn-calendar-choose-sec\">\n      <div class=\"unicorn-calendar-choose-month\">\n        <img @click=\"changeMonth('back')\" src=\"./img/back.svg\" alt=\"上个月\">\n        <span>{{monthName[month / 1 - 1]}} {{year}}</span>\n        <img @click=\"changeMonth('go')\" src=\"./img/next.svg\" alt=\"下个月\">\n      </div>\n\n      <div class=\"unicorn-calendar-choose-day-sec\">\n        <div class=\"unicorn-calendar-choose-dayName\">\n          <span v-for=\"(item, index) in dayName\" :key=\"index\">{{item}}</span>\n        </div>\n\n        <div class=\"unicorn-line\">\n          <div v-for=\"index in 20\" :key=\"index\" class=\"unicorn-line-item\"></div>\n        </div>\n\n        <!-- 具体天数列表 -->\n        <div class=\"unicorn-day-sec\">\n          <div class=\"unicorn-dayLine\">\n            <span ref=\"dayLine0\" v-for=\"index in 7\" :key=\"index\" \n            class=\"unicorn-day\"\n            :class=\"{'unicorn-day-notnow': index - 6 <= firstWeekday, \n            'unicorn-nowDate': index - firstWeekday - 6 === day}\"\n            @click=\"returnDay(index, 'first')\">1</span>\n          </div>\n\n          <div class=\"unicorn-dayLine\">\n            <span ref=\"dayLine1\" v-for=\"index in 7\" :key=\"index\" \n            class=\"unicorn-day\"\n            :class=\"{'unicorn-day-notnow': index < firstWeekday, \n            'unicorn-nowDate': index - firstWeekday + 1 === day}\"\n            @click=\"returnDay(index)\">1</span>\n          </div>\n          \n          <div class=\"unicorn-dayLine\">\n            <span ref=\"dayLine2\" v-for=\"index in 7\" :key=\"index\" \n            class=\"unicorn-day\"\n            :class=\"{'unicorn-nowDate': index + 8 - firstWeekday === day}\"\n            @click=\"returnDay(index + 7)\">1</span>\n          </div>\n\n          <div class=\"unicorn-dayLine\">\n            <span ref=\"dayLine3\" v-for=\"index in 7\" :key=\"index\" \n            class=\"unicorn-day\"\n            :class=\"{'unicorn-nowDate': index + 15 - firstWeekday === day}\"\n            @click=\"returnDay(index + 14)\">1</span>\n          </div>\n\n          <div class=\"unicorn-dayLine\">\n            <span ref=\"dayLine4\" v-for=\"index in 7\" :key=\"index\" \n            class=\"unicorn-day\"\n            :class=\"{'unicorn-nowDate': index + 22 - firstWeekday === day}\"\n            @click=\"returnDay(index + 21)\">1</span>\n          </div>\n\n          <div class=\"unicorn-dayLine\">\n            <span ref=\"dayLine5\" v-for=\"index in 7\" :key=\"index\"\n            class=\"unicorn-day\"\n            :class=\"{'unicorn-day-notnow': index > lastWeekday + 1,\n            'unicorn-nowDate': index + 29 - firstWeekday === day}\"\n            @click=\"returnDay(index + 28)\">1</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: 'calendar',\n    data () {\n      return {\n        // 今年\n        year: 1970,\n        // 月数\n        month: 1,\n        // 今天号数\n        day: 1,\n        show: false,\n        monthName: ['January', 'February', 'March', \n        'April', 'May', 'June', 'July', 'August', \n        'September', 'October', 'November', 'December'],\n        dayName: ['SUN', 'MON', 'TUE', 'WED', 'THU', 'FRI', 'SAT'],\n        // 这个月的天数\n        dayArrNow: [],\n        // 下个月的天数\n        dayArrAfter: [],\n        // 上个月的天数\n        dayArrBefore: [],\n        // 今天的星期\n        nowWeekday: 4,\n        // 每个月第一天的星期数\n        firstWeekday: 4,\n        // 每个月最后一天的星期数\n        lastWeekday: 6,\n        isLeap: false\n      }\n    },\n    methods: {\n      getDateMoble () {\n        this.show = !this.show\n      },\n      setDay (dayNum, arr) {\n        for (let i = 1; i <= dayNum; i++) {\n          arr.push(i)\n        }\n      },\n      /**\n       * 根据当月份生成日期\n       * @param {Number} 当前月份\n       * @param {Arr} 存储日期的数组\n       */\n      getDate (month, arr) {\n        arr.splice(0)\n\n        if (month === 1 || month === 3 || month === 5 \n        || month === 7 || month === 8 || month === 10 \n        || month === 12) {\n          this.setDay(31, arr)\n        } else if (month === 2) {\n          if (this.isLeap) {\n            this.setDay(29, arr)\n          } else {\n            this.setDay(28, arr)\n          }\n        } else {\n          this.setDay(30, arr)\n        }\n      },\n      // 生成当前以及上个月下个月的\n      getDateNow () {\n        let now = this.month / 1\n        let after = now + 1\n        let before = now - 1\n\n        after > 12 ? after = 1 : after\n        before < 1 ? before = 12 : before \n\n        if (this.year % 400 === 0 || (this.year % 4 === 0 && this.year % 100 !==  0)) {\n          this.isLeap = true\n        } else {\n          this.isLeap = false\n        }\n\n        this.getDate(now, this.dayArrNow)\n        this.getDate(after, this.dayArrAfter)\n        this.getDate(before, this.dayArrBefore)\n      },\n      // 渲染日期\n      showDay () {\n        let dayIndex = 0\n\n        // 日期dom\n        let dayLine0 = this.$refs.dayLine0\n        let dayLine1 = this.$refs.dayLine1\n        let dayLine2 = this.$refs.dayLine2\n        let dayLine3 = this.$refs.dayLine3\n        let dayLine4 = this.$refs.dayLine4\n        let dayLine5 = this.$refs.dayLine5\n\n        // 渲染上个月的残留日期\n        dayLine1.forEach((ele, index) => {\n          if (this.firstWeekday >= index) {\n            ele.innerHTML = this.dayArrBefore[this.dayArrBefore.length - (this.firstWeekday - index - 1)]\n          }\n        })\n\n        // 渲染下个月残留日期\n        let num = 0\n        dayLine5.forEach((ele, index) => {\n          if (this.lastWeekday <= index) {\n            ele.innerHTML = this.dayArrAfter[index - num - 1]\n          } else {\n            num++\n          }\n        })\n\n        // 渲染当前月份的所有日期\n\n        dayLine1.forEach((ele, index) => {\n          if (this.firstWeekday - 1 <= index) {\n            dayIndex = index - (this.firstWeekday - 1)\n            ele.innerHTML = this.dayArrNow[dayIndex]\n          }\n        })\n\n        // 当月份开始时间5行放不下时\n        dayLine0.forEach((ele, index) => {\n          if (index - 6 >= this.firstWeekday) {\n            ele.innerHTML = this.dayArrNow[index - 6 - this.firstWeekday]\n          } else {\n            ele.innerHTML = this.dayArrBefore[this.dayArrBefore.length - 13 + index + dayIndex]\n          }\n        })\n\n        dayIndex = this.getMidDay(dayLine2, dayIndex)\n        dayIndex = this.getMidDay(dayLine3, dayIndex)\n        dayIndex = this.getMidDay(dayLine4, dayIndex)\n\n        dayLine5.forEach((ele, index) => {\n          if (this.dayArrNow[dayIndex + index + 1]) {\n            ele.innerHTML = this.dayArrNow[dayIndex + index + 1]\n          }\n        })\n      },\n      /**\n       *  渲染中间3行\n       * @param {Arr} arr 用于遍历\n       * @param {index} index 遍历开始的索引\n       * */ \n      getMidDay (arr, dayIndex) {\n        arr.forEach((ele, index) => {\n          ele.innerHTML = this.dayArrNow[dayIndex + index + 1]\n        })\n\n        return dayIndex + 7\n      },\n      /**\n       * 点击更换日期\n       * @param {number} index 传入当前索引\n       * @param {String} flag 判断是否为第一排额外多出天数\n       */\n      returnDay (index, flag) {\n        if (index < this.firstWeekday || index - 29 > this.lastWeekday) {\n          return\n        } else if (this.firstWeekday <= 0 && flag) {\n            this.day = this.dayArrNow[index - 7 - this.firstWeekday]\n        } else {\n          if (flag) {\n            return\n          } else {\n            this.day = this.dayArrNow[index - this.firstWeekday]\n            this.$emit('on-change', `${this.day}/${this.month}/${this.year}`)\n          }\n        }\n      },\n      /**\n       * 点击更改月份\n       * @param {String} 传入进入上个月或者下个月\n       */\n      changeMonth (flag) {\n        if (flag === 'go') {\n          this.month++\n          if (this.month > 12) {\n            this.year++\n            this.month = 1\n          }\n          this.changeMonthItem()\n        } else {\n          this.month--\n          if (this.month < 1) {\n            this.year--\n            this.month = 12\n          }\n          this.changeMonthItem()\n        }\n      },\n      /**\n       * 更改月份时的操作\n       */\n      changeMonthItem () {\n        this.getDateNow()\n        this.getFL()\n        this.day = 1\n        this.showDay()\n      },\n      /**\n       * 生成每月第一天以及最后一天\n       */\n      getFL () {\n        let lastWeekday = new Date(this.year, this.month, 0)\n\n        this.lastWeekday = lastWeekday.getDay()\n        this.firstWeekday = this.lastWeekday + 30 - this.dayArrNow.length\n      }\n    },\n    mounted () {\n      let date = new Date();\n      let month = date.getMonth() + 1<10? \"0\"+(date.getMonth() + 1):date.getMonth() + 1\n      let strDate = date.getDate()<10? \"0\" + date.getDate():date.getDate()\n  \n      this.year =  date.getFullYear()\n      this.month = month\n      this.day = strDate\n      this.nowWeekday = date.getDay()\n\n      this.getDateNow()\n      this.getFL()\n\n      this.$emit('on-change', `${this.day}/${this.month}/${this.year}`)\n    }\n  }\n</script>\n\n<style lang=\"scss\" scoped>\n  .unicorn-calendar-main {\n    background-color: #efefef;\n    border-radius: 6px;\n    width: 320px;\n\n    .unicorn-calendar-sec {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      height: 48px;\n      padding: 0 15px;\n      background-color: #FFF;\n      border-radius: 6px;\n      box-shadow: 0 0 5px rgba(0, 0, 0, .2);\n      font-size: 14px;\n\n      & img {\n        cursor: pointer;\n      }\n    }\n\n    .unicorn-calendar-choose-sec {\n      margin-top: 10px;\n      padding: 0 15px;\n      height: 286px;\n      border-radius: 6px;\n      background-color: #FFF;\n\n      .unicorn-calendar-choose-month {\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        height: 50px;\n\n        & img {\n          cursor: pointer;\n        }\n      }\n\n      .unicorn-calendar-choose-day-sec {\n\n        .unicorn-calendar-choose-dayName {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          font-size: 12px;\n          color: #cac2d0;\n\n          & span {\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            width: 29px;\n          }\n        }\n\n        .unicorn-line {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-top: 5px;\n\n          .unicorn-line-item {\n            height: 1px;\n            border-radius: 6px;\n            width: 6px;\n            background-color: #e9e8ea;\n          }\n        }\n\n        .unicorn-day-sec {\n          .unicorn-dayLine {\n            display: flex;\n            justify-content: space-between;\n            margin: 5px 0;\n\n            & :last-child {\n              color: #ff9740 !important;\n            }\n\n            .unicorn-day {\n              display: flex;\n              justify-content: center;\n              align-items: center;\n              height: 29px; \n              width: 29px;\n              font-size: 12px;\n              border-radius: 50%;\n              cursor: pointer;\n\n              &:hover {\n                background-color: #ebdaf0;\n                color: #b649f0 !important;\n              }\n            }\n\n            .unicorn-day-notnow {\n              opacity: .2;\n              cursor: not-allowed;\n\n              &:hover {\n                background-color: rgba(0, 0, 0, 0);\n                color: #000 !important;\n              }\n            }\n\n            .unicorn-nowDate {\n              background-color: #a376b5;\n              color: #FFF !important;\n            }\n          }\n\n        }\n      }\n    }\n  }\n</style>"]}]}